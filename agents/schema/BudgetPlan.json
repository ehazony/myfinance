{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "BudgetPlan",
    "type": "object",
    "required": ["budget_id","effective_from","currency","categories"],
    "properties": {
      "budget_id":     {"type":"string","format":"uuid"},
      "effective_from":{"type":"string","format":"date"},
      "currency":      {"type":"string","pattern":"^[A-Z]{3}$"},
      "categories":{
        "type":"array",
        "minItems":1,
        "items":{
          "type":"object",
          "required":["name","planned_amount"],
          "properties":{
            "name":{"type":"string"},
            "planned_amount":{"type":"number"},
            "actual_amount":{"type":"number"},
            "variance":{"type":"number"}
          }
        }
      },
      "savings_rate_target":{"type":"number","minimum":0,"maximum":1},
      "notes":{"type":"string"}
    }
  }